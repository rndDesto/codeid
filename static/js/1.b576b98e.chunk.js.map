{"version":3,"sources":["util/fetch.js","pages/Home/actions.js","components/ModalDialog/ModalDialog.js","layout/FormUser/FormUser.js","components/DataAlert/DataAlert.js","pages/Home/Home.js"],"names":["fetch","url","method","param1","param2","Promise","resolve","reject","axios","then","res","data","catch","err","defaultError","code","status","message","response","contactApi","payload","a","id","body","fetchModalForm","open","dispatch","modalAction","fetchContact","loadingAction","dataFetchedAction","errorAction","type","DATA_FETCHED","isLoading","LOADING","MODAL","ISERROR","ModalDialog","children","inputProps","Dialog","defaultProps","useStyles","makeStyles","theme","root","margin","spacing","FormUser","openModal","handleCloseModal","userData","modalType","useDispatch","classes","initialValues","firstName","lastName","age","photo","formik","useFormik","validate","values","errors","length","onSubmit","value","fetchAddUser","fetchEditUser","formTitle","onClose","DialogContent","Typography","className","handleSubmit","TextField","defaultValue","error","touched","helperText","label","name","onChange","handleChange","size","variant","DialogActions","Button","color","onClick","alert","position","zIndex","top","right","DataAlert","useState","setOpen","closeAlert","setTimeout","Collapse","in","Alert","action","IconButton","aria-label","Close","fontSize","fab","bottom","contactContainer","marginTop","Home","userInit","setModalType","setUserData","useEffect","dataUser","handleDelete","fetchDeleteUser","contactState","useSelector","s","home","map","user","key","Grid","item","sm","xs","Avatar","alt","src","Delete","handleEdit","Edit","isError","severity","Container","maxWidth","alignItems","container","direction","justify","Fab","Add"],"mappings":"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","file":"static/js/1.b576b98e.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst CONTACT_API = 'https://simple-contact-crud.herokuapp.com';\r\n\r\n\r\nconst fetch = (url, method, param1, param2) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios[method](url, param1, param2)\r\n      .then(res => resolve(res.data))\r\n      .catch(err => {\r\n        const defaultError = {\r\n          code: 500,\r\n          status: 'error',\r\n          message: 'Failed to fetch data. Please contact developer.'\r\n        };\r\n        if (!err.response) reject(defaultError);\r\n        else if (!err.response.data) reject(defaultError);\r\n        else reject(err.response.data);\r\n      });\r\n  });\r\n};\r\n\r\n\r\nexport const contactApi = async (payload) => {\r\n  let id = payload.id ? `/${payload.id}`: '';\r\n  let body = payload.body ? payload.body : '';\r\n  return await fetch(`${CONTACT_API}/contact${id}`, payload.method, body );\r\n};\r\n","import { contactApi } from '../../util/fetch';\r\nimport { DATA_FETCHED, LOADING, MODAL, ISERROR } from './constants';\r\n\r\n\r\nexport const fetchModalForm = (open) => {\r\n  return dispatch => {\r\n    dispatch(modalAction(open));\r\n  };\r\n};\r\n\r\nexport const fetchContact = () => {\r\n  return async dispatch => {\r\n    let response;\r\n    let payload={\r\n      'method': 'get',\r\n    };\r\n    dispatch(loadingAction(true));\r\n    try {\r\n      response = await contactApi(payload);\r\n      dispatch(dataFetchedAction(response.data));\r\n    } catch (err) {\r\n      dispatch(loadingAction(false));\r\n      dispatch(errorAction(err.message));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const fetchAddUser = (payload) => {\r\n  return async dispatch => {\r\n    let response;\r\n    try {\r\n      response = await contactApi(payload);\r\n      if(response){\r\n        dispatch(fetchContact());\r\n        dispatch(fetchModalForm(false));\r\n      }\r\n    } catch (err) {\r\n      dispatch(errorAction(err.message));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const fetchEditUser = (payload) => {\r\n  return async dispatch => {\r\n    let response;\r\n    try {\r\n      response = await contactApi(payload);\r\n      if(response){\r\n        dispatch(fetchContact());\r\n        dispatch(fetchModalForm(false));\r\n      }\r\n    } catch (err) {\r\n      dispatch(errorAction(err.message));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const fetchDeleteUser = (payload) => {\r\n  return async dispatch => {\r\n    let response;\r\n    try {\r\n      response = await contactApi(payload);\r\n      if(response){\r\n        dispatch(fetchContact());\r\n      }\r\n    } catch (err) {\r\n      dispatch(errorAction(err.message));\r\n    }\r\n  };\r\n};\r\n\r\nconst dataFetchedAction = (data) => {\r\n  return { type: DATA_FETCHED, payload:data };\r\n};\r\n\r\nconst loadingAction = (isLoading) => {\r\n  return { type: LOADING, payload:isLoading };\r\n};\r\n\r\nconst modalAction = (open) => {\r\n  return { type: MODAL, payload:open };\r\n};\r\n\r\nexport const errorAction = (err) => {\r\n  return { type: ISERROR, payload:err };\r\n};\r\n","import React from 'react';\r\nimport { Dialog } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ModalDialog = ({ children, inputProps }) => {\r\n  return (\r\n    <Dialog {...inputProps} >\r\n      {children}\r\n    </Dialog>\r\n  );\r\n};\r\n\r\n\r\nModalDialog.defaultProps = {\r\n  children: null,\r\n  inputProps: {},\r\n};\r\n\r\nModalDialog.propTypes = {\r\n  children: PropTypes.node,\r\n  inputProps: PropTypes.object,\r\n};\r\n\r\nexport default ModalDialog;\r\n","import React from 'react';\r\nimport ModalDialog from '../../components/ModalDialog';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, DialogActions, DialogContent, makeStyles, TextField, Typography } from '@material-ui/core';\r\nimport { useFormik } from 'formik';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchAddUser, fetchEditUser } from '../../pages/Home/actions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\n\r\nconst FormUser = ({ openModal, handleCloseModal,userData, modalType }) => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n\r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n    if (!values.firstName) {\r\n      errors.firstName = 'FirstName Required';\r\n    } else if (values.firstName.length < 3) {\r\n      errors.firstName = 'Minimal 3 karakter';\r\n    }\r\n    if (!values.lastName) {\r\n      errors.lastName = 'LastName Required';\r\n    } else if (values.lastName.length < 3) {\r\n      errors.lastName = 'Minimal 3 karakter';\r\n    }\r\n    if (!values.age) {\r\n      errors.age = 'Age Required';\r\n    } else if (values.age === 0) {\r\n      errors.lastName = 'Tidak boleh 0';\r\n    }\r\n    else if (values.age > 100) {\r\n      errors.lastName = 'Maximum Age 100';\r\n    }\r\n    if (!values.photo) {\r\n      errors.photo = 'Photo Required';\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const initialValues = {\r\n    firstName: userData.firstName,\r\n    lastName: userData.lastName,\r\n    age: userData.age,\r\n    photo: userData.photo,\r\n    type:modalType\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues,\r\n    validate,\r\n    onSubmit : value => {\r\n      let payload;\r\n      if(value.type === 'add'){\r\n        payload={\r\n          'method': 'post',\r\n          'body': {\r\n            'firstName': value.firstName,\r\n            'lastName': value.lastName,\r\n            'age': value.age,\r\n            'photo': value.photo,\r\n          }\r\n        };\r\n        dispatch(fetchAddUser(payload));\r\n      }\r\n      else{\r\n        payload={\r\n          'method': 'put',\r\n          'id':userData.id,\r\n          'body': {\r\n            'firstName': value.firstName,\r\n            'lastName': value.lastName,\r\n            'age': value.age,\r\n            'photo': value.photo,\r\n          }\r\n        };\r\n        dispatch(fetchEditUser(payload));\r\n      }\r\n\r\n    }\r\n  });\r\n\r\n  let formTitle = modalType === 'add' ? 'Add' : 'Edit';\r\n\r\n  return (\r\n    <div>\r\n      <ModalDialog inputProps={{ open:openModal, onClose:handleCloseModal }}>\r\n        <DialogContent>\r\n          <Typography>{formTitle} User</Typography>\r\n          <form className={classes.root} onSubmit={formik.handleSubmit}>\r\n            <div>\r\n              <TextField\r\n                defaultValue={userData.firstName}\r\n                error = {formik.touched.firstName && formik.errors.firstName ? true : false}\r\n                helperText={formik.errors.firstName}\r\n                label=\"Firstname\"\r\n                name=\"firstName\"\r\n                onChange={formik.handleChange}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                defaultValue={userData.lastName}\r\n                error = {formik.touched.lastName && formik.errors.lastName ? true : false}\r\n                helperText={formik.errors.lastName}\r\n                label=\"Lastname\"\r\n                name=\"lastName\"\r\n                onChange={formik.handleChange}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                defaultValue={userData.age}\r\n                error = {formik.touched.age && formik.errors.age ? true : false}\r\n                helperText={formik.errors.age}\r\n                label=\"Umur\"\r\n                name=\"age\"\r\n                onChange={formik.handleChange}\r\n                size=\"small\"\r\n                type=\"number\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                defaultValue={userData.photo}\r\n                error = {formik.touched.photo && formik.errors.photo ? true : false}\r\n                helperText={formik.errors.photo}\r\n                label=\"Photo\"\r\n                name=\"photo\"\r\n                onChange={formik.handleChange}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button color=\"secondary\" onClick={handleCloseModal}>\r\n            Cancel\r\n          </Button>\r\n          <Button color=\"primary\" onClick={formik.handleSubmit}>\r\n            {formTitle}\r\n          </Button>\r\n        </DialogActions>\r\n      </ModalDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nFormUser.defaultProps = {\r\n  handleCloseModal: ()=>{},\r\n  modalType:'',\r\n  openModal: false,\r\n  userData:{},\r\n\r\n\r\n};\r\n\r\nFormUser.propTypes = {\r\n  handleCloseModal: PropTypes.func,\r\n  modalType:PropTypes.string,\r\n  openModal: PropTypes.bool,\r\n  userData:PropTypes.object,\r\n};\r\n\r\n\r\nexport default FormUser;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { Collapse, IconButton, makeStyles } from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\nimport { useDispatch } from 'react-redux';\r\nimport { errorAction } from '../../pages/Home/actions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  alert: {\r\n    position: 'fixed',\r\n    zIndex:1100,\r\n    top: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst DataAlert = ({ message, inputProps }) => {\r\n  const [open, setOpen] = useState(true);\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const closeAlert = () => {\r\n    setOpen(false);\r\n    dispatch(errorAction(''));\r\n  };\r\n\r\n  setTimeout(() => {\r\n    closeAlert();\r\n  }, 3000);\r\n\r\n  return (\r\n    <Collapse in={open}>\r\n      <Alert className={classes.alert} {...inputProps} action={\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={() => {\r\n            closeAlert();\r\n          }}\r\n          size=\"small\"\r\n        >\r\n          <Close fontSize=\"inherit\" />\r\n        </IconButton>\r\n      }>{message}</Alert>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\n\r\nDataAlert.defaultProps = {\r\n  inputProps: {},\r\n  message: 'null',\r\n};\r\n\r\nDataAlert.propTypes = {\r\n  inputProps: PropTypes.object,\r\n  message: PropTypes.string,\r\n};\r\nexport default DataAlert;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { Avatar, Container, Fab, Grid, IconButton, makeStyles, Typography } from '@material-ui/core';\r\nimport { fetchContact, fetchDeleteUser, fetchModalForm } from './actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Delete, Add, Edit } from '@material-ui/icons';\r\nimport FormUser from '../../layout/FormUser';\r\nimport DataAlert from '../../components/DataAlert/DataAlert';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  fab: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n  contactContainer:{\r\n    marginTop:theme.spacing(5),\r\n  }\r\n}));\r\n\r\nconst Home = () => {\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  let userInit = {\r\n    'firstName': '',\r\n    'lastName': '',\r\n    'age': 0,\r\n    'photo': ''\r\n  };\r\n\r\n  const [modalType, setModalType] = useState('');\r\n  const [userData, setUserData] = useState(userInit);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchContact());\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n\r\n  const handleAddUser = () =>{\r\n    setUserData(userInit);\r\n    setModalType('add');\r\n    dispatch(fetchModalForm(true));\r\n  };\r\n\r\n  const handleEdit = (user) =>{\r\n    setUserData(user);\r\n    setModalType('edit');\r\n    dispatch(fetchModalForm(true));\r\n  };\r\n\r\n  const handleDelete = (id) =>{\r\n    const payload = {\r\n      'method': 'delete',\r\n      'id': id,\r\n    };\r\n    dispatch(fetchDeleteUser(payload));\r\n  };\r\n\r\n  const handleCloseModal = () =>{\r\n    dispatch(fetchModalForm(false));\r\n  };\r\n\r\n\r\n\r\n\r\n  const contactState = useSelector(s => s.home);\r\n\r\n  let dataUser;\r\n  if(!contactState.isLoading){\r\n    dataUser = contactState.data.map(user =>{\r\n      return(\r\n        <Fragment key={user.id}>\r\n          <Grid item sm={2} xs={12}>\r\n            <Avatar alt=\"Remy Sharp\" src={user.photo} />\r\n          </Grid>\r\n          <Grid item sm={7} xs={6}>\r\n            <Typography>Name : {user.firstName} {user.lastName}</Typography>\r\n            <Typography>Age : {user.age}</Typography>\r\n          </Grid>\r\n          <Grid item sm={3} xs={6}>\r\n            <IconButton onClick={()=>handleDelete(user.id)}>\r\n              <Delete />\r\n            </IconButton>\r\n            <IconButton onClick={()=>handleEdit(user)}>\r\n              <Edit />\r\n            </IconButton>\r\n          </Grid>\r\n        </Fragment>\r\n      );\r\n    });\r\n  }\r\n  else{\r\n    dataUser = <Typography>Memuat...</Typography>;\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      {contactState.isError ? <DataAlert inputProps={{ severity:'error' }} message={contactState.isError}/> : null}\r\n\r\n      <Container className={classes.contactContainer} maxWidth=\"sm\">\r\n        <Grid alignItems=\"center\"\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          spacing={2}\r\n        >\r\n          {dataUser}\r\n        </Grid>\r\n\r\n        {\r\n          !contactState.isLoading ? <Fab aria-label=\"add\" className={classes.fab} color=\"primary\" onClick={handleAddUser} size=\"medium\">\r\n            <Add />\r\n          </Fab> : null\r\n        }\r\n\r\n      </Container>\r\n\r\n\r\n      {\r\n        modalType ? <FormUser\r\n          handleCloseModal={handleCloseModal}\r\n          modalType={modalType}\r\n          openModal={contactState.openModal}\r\n          userData={userData}/> : null}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}