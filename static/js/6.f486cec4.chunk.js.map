{"version":3,"sources":["components/icons/star-24px.svg","util/storage.js","components/DataTable/DataTable.js","pages/Favorite/Favorite.js","util/fetch.js","components/ModalDialog/ModalDialog.js"],"names":["module","exports","getFavMovie","localStorage","getItem","DataTable","column","data","TableContainer","component","Paper","Table","TableHead","TableRow","map","index","TableCell","key","heading","TableBody","item","cItem","cIdx","value","newValue","defaultProps","useStyles","makeStyles","theme","postercontainer","backgroundColor","display","spacing","posterTitle","Favorite","classes","useState","movies","setMovies","detailMovie","setDetailMovie","openDetailMovie","setOpenDetailMovie","useEffect","favMovie","JSON","parse","handleDetailMovie","id","getMovieDetail","then","res","catch","err","alert","message","handleCloseModal","removeFavorite","addFav","favIndex","findIndex","val","imdbID","splice","stringify","setItem","movie","Typography","onClick","Title","titleMovie","Tooltip","title","Button","alt","Star","src","addFavorite","DetailMovie","Object","keys","length","forEach","mov","Grid","xs","push","ModalDialog","inputProps","open","onClose","DialogContent","container","className","Poster","variant","DialogActions","color","OMDBAPI","CONTACT_API","fetch","url","method","param1","param2","Promise","resolve","reject","axios","defaultError","code","status","response","a","contactApi","payload","body","children","Dialog"],"mappings":"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","file":"static/js/6.f486cec4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/star-24px.555f59ec.svg\";","const FAV_MOVIE = 'fav_novie';\r\nexport function setFavMovie(value) {\r\n  localStorage.setItem(FAV_MOVIE, value);\r\n}\r\n\r\nexport function getFavMovie() {\r\n  return localStorage.getItem(FAV_MOVIE);\r\n}\r\n\r\nexport function clearStorages() {\r\n  localStorage.setFavMovie(FAV_MOVIE);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TableContainer, Paper, Table, TableHead, TableRow, TableCell, TableBody } from '@material-ui/core';\r\n\r\nconst DataTable = ({ column, data }) => {\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            {column.map((data, index) => {\r\n              return (\r\n                <TableCell key={`${index}`}>{data.heading}</TableCell>\r\n              );\r\n            })}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.map((item, index) => {\r\n            return (\r\n              <TableRow key={`${index}`}>\r\n                {column.map((cItem, cIdx) => {\r\n                  const { value } = cItem;\r\n                  const newValue = typeof value === 'function' ? value(item) : item[value];\r\n\r\n                  return (\r\n                    <TableCell key={cIdx}>\r\n                      {newValue || '-'}\r\n                    </TableCell>\r\n                  );\r\n                })}\r\n              </TableRow>\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nDataTable.defaultProps = {\r\n  column: [],\r\n  data: [],\r\n};\r\n\r\nDataTable.propTypes = {\r\n  column: PropTypes.array,\r\n  data: PropTypes.array,\r\n};\r\n\r\nexport default DataTable;\r\n","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { getFavMovie, setFavMovie } from '../../util/storage';\r\nimport DataTable from '../../components/DataTable';\r\nimport { Button, DialogContent, Grid, Typography, DialogActions, makeStyles, Tooltip } from '@material-ui/core';\r\nimport ModalDialog from '../../components/ModalDialog';\r\nimport { getMovieDetail } from '../../util/fetch';\r\nimport Star from '../../components/icons/star-24px.svg';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  postercontainer: {\r\n    backgroundColor: '#fafafa',\r\n    display: 'flex',\r\n    'justifyContent': 'center',\r\n    'marginBottom': theme.spacing(2)\r\n  },\r\n  posterTitle:{\r\n    'marginBottom': theme.spacing(2)\r\n  }\r\n}));\r\n\r\nconst Favorite = () => {\r\n  const classes = useStyles();\r\n  const [movies, setMovies] = useState([]);\r\n  const [detailMovie, setDetailMovie] = useState({});\r\n  const [openDetailMovie, setOpenDetailMovie] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let favMovie = getFavMovie();\r\n    if(favMovie){\r\n      setMovies(JSON.parse(favMovie));\r\n    }\r\n  }, []);\r\n\r\n  const titleMovie = (movie) => {\r\n    return <Typography onClick={()=>handleDetailMovie(movie.imdbID)}>{movie.Title}</Typography>;\r\n  };\r\n\r\n  const handleDetailMovie = (id) => {\r\n    getMovieDetail(id).then(res => {\r\n      setOpenDetailMovie(true);\r\n      setDetailMovie(res);\r\n    }).catch(err => {\r\n      alert(err.message);\r\n    });\r\n  };\r\n\r\n\r\n  const handleCloseModal = () => {\r\n    setOpenDetailMovie(false);\r\n  };\r\n\r\n  const addFavorite = (movie) => {\r\n    return (\r\n      <Tooltip title=\"remove favorite\">\r\n        <Button\r\n          id={`konfirmasi-${movie.imdbID}`}\r\n          onClick={() => removeFavorite(movie)}>\r\n          <img alt={Star} src={Star} />\r\n        </Button>\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\n  const removeFavorite = (data) => {\r\n    let getFav = JSON.parse(getFavMovie());\r\n\r\n    let addFav = getFav;\r\n    let favIndex = addFav.findIndex(val => val.imdbID === data.imdbID);\r\n\r\n    addFav.splice(favIndex, 1);\r\n    setFavMovie(JSON.stringify(addFav));\r\n    setMovies(addFav);\r\n  };\r\n\r\n  const column = [\r\n    { heading: 'Title', value: (movie) => titleMovie(movie) },\r\n    { heading: 'Year', value: 'Year' },\r\n    { heading: 'ID', value: 'imdbID' },\r\n    { heading: '', value: (movie) => addFavorite(movie) },\r\n  ];\r\n\r\n  let HeadDetailMovie = ['Year','Released','Director','Actors','Plot','Awards'];\r\n  let DetailMovie= [];\r\n\r\n  if(Object.keys(detailMovie).length !== 0){\r\n    HeadDetailMovie.forEach((data, index)=>{\r\n      let mov = (\r\n        <Fragment key={index}>\r\n          <Grid item xs={2}>\r\n            <Typography>{data}</Typography>\r\n          </Grid>\r\n          <Grid item xs={10}>{detailMovie[data]}</Grid>\r\n        </Fragment>\r\n      );\r\n      DetailMovie.push(mov);\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      {movies.length !== 0 ? <DataTable column={column} data={movies} />:''}\r\n      <ModalDialog inputProps={{ open:openDetailMovie, onClose:handleCloseModal }}>\r\n        <DialogContent>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n              <div className={classes.postercontainer}>\r\n                <img alt={detailMovie.Title} src={detailMovie.Poster}/>\r\n              </div>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Typography className={classes.posterTitle} variant=\"h5\">{detailMovie.Title}</Typography>\r\n              <Grid container spacing={2}>\r\n                {DetailMovie}\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button color=\"primary\" onClick={handleCloseModal}>\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </ModalDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favorite;\r\n","import axios from 'axios';\r\n\r\nconst OMDBAPI = 'http://www.omdbapi.com';\r\n\r\nconst CONTACT_API = 'https://simple-contact-crud.herokuapp.com';\r\n\r\n\r\nconst fetch = (url, method, param1, param2) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios[method](url, param1, param2)\r\n      .then(res => resolve(res.data))\r\n      .catch(err => {\r\n        const defaultError = {\r\n          code: 500,\r\n          status: 'error',\r\n          message: 'Failed to fetch data. Please contact developer.'\r\n        };\r\n        if (!err.response) reject(defaultError);\r\n        else if (!err.response.data) reject(defaultError);\r\n        else reject(err.response.data);\r\n      });\r\n  });\r\n};\r\n\r\nexport const getMovies = async (title) => (\r\n  await fetch(`${OMDBAPI}/?s=${title}&plot=full&apikey=761befef`, 'get')\r\n);\r\n\r\nexport const getMovieDetail = async (id) => (\r\n  await fetch(`${OMDBAPI}/?i=${id}&apikey=761befef`, 'get')\r\n);\r\n\r\n\r\nexport const contactApi = async (payload) => {\r\n  let id = payload.id ? `/${payload.id}`: '';\r\n  let body = payload.body ? payload.body : '';\r\n  return await fetch(`${CONTACT_API}/contact${id}`, payload.method, body );\r\n};\r\n\r\n\r\nexport const contactUrl = async (payload) => (\r\n  await fetch(`${CONTACT_API}/contact`, payload.method, payload.body)\r\n);\r\n\r\nexport const contactPath = async (payload) => (\r\n  await fetch(`${CONTACT_API}/contact/${payload.id}`, payload.method)\r\n);\r\n\r\nexport const contactEdit = async (payload) => (\r\n  await fetch(`${CONTACT_API}/contact/${payload.id}`, payload.method, payload.body)\r\n);\r\n","import React from 'react';\r\nimport { Dialog } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ModalDialog = ({ children, inputProps }) => {\r\n  return (\r\n    <Dialog {...inputProps} >\r\n      {children}\r\n    </Dialog>\r\n  );\r\n};\r\n\r\n\r\nModalDialog.defaultProps = {\r\n  children: null,\r\n  inputProps: {},\r\n};\r\n\r\nModalDialog.propTypes = {\r\n  children: PropTypes.node,\r\n  inputProps: PropTypes.object,\r\n};\r\n\r\nexport default ModalDialog;\r\n"],"sourceRoot":""}