(this.webpackJsonpcodeid=this.webpackJsonpcodeid||[]).push([[7],{196:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return B}));var n=a(98),r=a(0),o=a.n(r),c=a(173),l=a(182),i=a(202),u=a(78),s=a(180),m=a(185),p=a(186),d=a(91),f=a.n(d),h=a(92),b=a(93),v=a(19),g=function(e){return function(t){t(k(e))}},E=function(){return function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"get"},t(y(!0)),e.prev=2,e.next=5,Object(b.a)(n);case 5:a=e.sent,t(N(a.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t(y(!1));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return{type:v.a,payload:e}},y=function(e){return{type:v.c,payload:e}},k=function(e){return{type:v.d,payload:e}},x=function(e){return{type:v.b,payload:e}},j=a(35),O=a(183),w=a(184),C=a(187),P=a(99),M=a(174),S=a(194),T=a(177),z=a(178),V=a(154),D=Object(c.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}}}})),F=function(e){var t=e.openModal,a=e.handleCloseModal,n=e.userData,r=e.modalTyoe,c=Object(j.b)(),l=D(),i={firstName:n.firstName,lastName:n.lastName,age:n.age,photo:n.photo,type:r},s=Object(V.a)({initialValues:i,validate:function(e){var t={};return e.firstName?e.firstName.length<3&&(t.firstName="Minimal 3 karakter"):t.firstName="Required",e.lastName?e.lastName.length<35&&(t.lastName="Minimal 3 karakter"):t.lastName="Required",t},onSubmit:function(e){var t;console.log("onSubmit formik = ",e),"add"===e.type?(t={method:"post",body:{firstName:e.firstName,lastName:e.lastName,age:e.age,photo:e.photo}},c(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.a)(e);case 3:t.sent&&(a(E()),a(g(!1))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("add user error = ",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))):(t={method:"put",id:n.id,body:{firstName:e.firstName,lastName:e.lastName,age:e.age,photo:e.photo}},c(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.a)(e);case 3:(n=t.sent)&&(a(E()),a(g(!1)),console.log("edit sukses = ",n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("add user error = ",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t)))}}),m="add"===r?"Add":"Edit";return o.a.createElement("div",null,o.a.createElement(P.a,{inputProps:{open:t,onClose:a}},o.a.createElement(M.a,null,o.a.createElement(u.a,null,m," User"),o.a.createElement("form",{className:l.root,onSubmit:s.handleSubmit},o.a.createElement("div",null,o.a.createElement(S.a,{defaultValue:n.firstName,error:!!s.errors.firstName,helperText:s.errors.firstName,label:"Firstname",name:"firstName",onChange:s.handleChange,size:"small",variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(S.a,{defaultValue:n.lastName,error:!!s.errors.lastName,helperText:s.errors.lastName,label:"Lastname",name:"lastName",onChange:s.handleChange,size:"small",variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(S.a,{defaultValue:n.age,error:!!s.errors.age,helperText:s.errors.age,label:"Umur",name:"age",onChange:s.handleChange,size:"small",type:"number",variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(S.a,{defaultValue:n.photo,error:!!s.errors.photo,helperText:s.errors.photo,label:"Photo",name:"photo",onChange:s.handleChange,size:"small",variant:"outlined"})))),o.a.createElement(T.a,null,o.a.createElement(z.a,{color:"secondary",onClick:a},"Cancel"),o.a.createElement(z.a,{color:"primary",onClick:s.handleSubmit},m))))};F.defaultProps={handleCloseModal:function(){},modalTyoe:"",openModal:!1,userData:{}};var L=F,R=a(195),U=a(179),q=a(181),A=Object(c.a)((function(e){return{alert:{position:"fixed",zIndex:1100,top:e.spacing(2),right:e.spacing(2)}}})),I=function(e){var t=e.message,a=e.inputProps,c=Object(r.useState)(!0),l=Object(n.a)(c,2),i=l[0],u=l[1],m=A(),p=Object(j.b)(),d=function(){u(!1),p(x(""))};return setTimeout((function(){d()}),3e3),o.a.createElement(U.a,{in:i},o.a.createElement(R.a,Object.assign({className:m.alert},a,{action:o.a.createElement(s.a,{"aria-label":"close",color:"inherit",onClick:function(){d()},size:"small"},o.a.createElement(q.a,{fontSize:"inherit"}))}),t))};I.defaultProps={inputProps:{},message:"null"};var J=I,W=Object(c.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),B=function(){var e=W(),t=Object(j.b)(),a={firstName:"",lastName:"",age:0,photo:""},c=Object(r.useState)(""),d=Object(n.a)(c,2),v=d[0],N=d[1],y=Object(r.useState)(a),k=Object(n.a)(y,2),P=k[0],M=k[1];Object(r.useEffect)((function(){t(E())}),[]);var S,T=function(e){t(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.a)(e);case 3:(n=t.sent)&&(a(E()),console.log("fetchDeleteUser sukses = ",n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(x(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}({method:"delete",id:e}))},z=Object(j.c)((function(e){return e.home}));return S=z.isLoading?o.a.createElement(u.a,null,"Memuat..."):z.data.map((function(e){return o.a.createElement(r.Fragment,{key:e.id},o.a.createElement(l.a,{item:!0,xs:2},o.a.createElement(i.a,{alt:"Remy Sharp",src:e.photo})),o.a.createElement(l.a,{item:!0,xs:6},o.a.createElement(u.a,null,"Name : ",e.firstName," ",e.lastName),o.a.createElement(u.a,null,"Age : ",e.age)),o.a.createElement(l.a,{item:!0,xs:4},o.a.createElement(s.a,{onClick:function(){return T(e.id)}},o.a.createElement(O.a,null)),o.a.createElement(s.a,{onClick:function(){return function(e){t(g(!0)),M(e),N("edit")}(e)}},o.a.createElement(w.a,null))))})),o.a.createElement("div",null,z.isError?o.a.createElement(J,{inputProps:{severity:"error"},message:z.isError}):null,o.a.createElement(m.a,{maxWidth:"sm"},o.a.createElement(l.a,{alignItems:"center",container:!0,direction:"row",justify:"center",spacing:2},S),z.isLoading?null:o.a.createElement(p.a,{"aria-label":"add",className:e.fab,color:"primary",onClick:function(){t(g(!0)),M(a),N("add")},size:"medium"},o.a.createElement(C.a,null))),o.a.createElement(L,{handleCloseModal:function(){t(g(!1))},modalTyoe:v,openModal:z.openModal,userData:P}))}},93:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a(91),r=a.n(n),o=a(92),c=a(103),l=a.n(c),i="http://www.omdbapi.com",u="https://simple-contact-crud.herokuapp.com",s=function(e,t,a,n){return new Promise((function(r,o){l.a[t](e,a,n).then((function(e){return r(e.data)})).catch((function(e){var t={code:500,status:"error",message:"Failed to fetch data. Please contact developer."};e.response&&e.response.data?o(e.response.data):o(t)}))}))},m=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("".concat(i,"/?i=").concat(t,"&apikey=761befef"),"get");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id?"/".concat(t.id):"",n=t.body?t.body:"",e.next=4,s("".concat(u,"/contact").concat(a),t.method,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),o=a(200),c=function(e){var t=e.children,a=e.inputProps;return r.a.createElement(o.a,a,t)};c.defaultProps={children:null,inputProps:{}};var l=c}}]);
//# sourceMappingURL=7.1b42f2b7.chunk.js.map