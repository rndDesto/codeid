(this.webpackJsonpcodeid=this.webpackJsonpcodeid||[]).push([[4],{178:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return X}));var n=t(113),r=t(0),o=t.n(r),l=t(163),c=t(171),i=t(183),s=t(78),u=t(169),m=t(174),d=t(175),p=t(96),f=t.n(p),h=t(97),g=t(121),b=t.n(g),v=function(e,a,t,n){return new Promise((function(r,o){b.a[a](e,t,n).then((function(e){return r(e.data)})).catch((function(e){var a={code:500,status:"error",message:"Failed to fetch data. Please contact developer."};e.response&&e.response.data?o(e.response.data):o(a)}))}))},E=function(){var e=Object(h.a)(f.a.mark((function e(a){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id?"/".concat(a.id):"",n=a.body?a.body:"",e.next=4,v("".concat("https://simple-contact-crud.herokuapp.com","/contact").concat(t),a.method,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=t(19),y=function(e){return function(a){a(O(e))}},x=function(){return function(){var e=Object(h.a)(f.a.mark((function e(a){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"get"},a(j(!0)),e.prev=2,e.next=5,E(n);case 5:t=e.sent,a(k(t.data)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),a(j(!1)),a(C(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}()},k=function(e){return{type:N.a,payload:e}},j=function(e){return{type:N.c,payload:e}},O=function(e){return{type:N.d,payload:e}},C=function(e){return{type:N.b,payload:e}},w=t(35),P=t(172),M=t(173),T=t(176),S=t(182),z=function(e){var a=e.children,t=e.inputProps;return o.a.createElement(S.a,t,a)};z.defaultProps={children:null,inputProps:{}};var V=z,F=t(164),R=t(177),q=t(166),A=t(167),D=t(144),L=Object(l.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}}}})),I=function(e){var a=e.openModal,t=e.handleCloseModal,n=e.userData,r=e.modalTyoe,l=Object(w.b)(),c=L();console.log("userData = ",n);var i={firstName:n.firstName,lastName:n.lastName,age:n.age,photo:n.photo,type:r};console.log("initialValues = ",i);var u=Object(D.a)({initialValues:i,validate:function(e){var a={};return e.firstName?e.firstName.length<3&&(a.firstName="Minimal 3 karakter"):a.firstName="FirstName Required",e.lastName?e.lastName.length<3&&(a.lastName="Minimal 3 karakter"):a.lastName="LastName Required",e.age?0===e.age?a.lastName="Tidak boleh 0":e.age>100&&(a.lastName="Maximum Age 100"):a.age="Age Required",e.photo||(a.lastName="Photo Required"),a},onSubmit:function(e){var a;"add"===e.type?(a={method:"post",body:{firstName:e.firstName,lastName:e.lastName,age:e.age,photo:e.photo}},l(function(e){return function(){var a=Object(h.a)(f.a.mark((function a(t){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e);case 3:a.sent&&(t(x()),t(y(!1))),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t(C(a.t0.message));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(a))):(a={method:"put",id:n.id,body:{firstName:e.firstName,lastName:e.lastName,age:e.age,photo:e.photo}},l(function(e){return function(){var a=Object(h.a)(f.a.mark((function a(t){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e);case 3:a.sent&&(t(x()),t(y(!1))),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t(C(a.t0.message));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(a)))}}),m="add"===r?"Add":"Edit";return o.a.createElement("div",null,o.a.createElement(V,{inputProps:{open:a,onClose:t}},o.a.createElement(F.a,null,o.a.createElement(s.a,null,m," User"),o.a.createElement("form",{className:c.root,onSubmit:u.handleSubmit},o.a.createElement("div",null,o.a.createElement(R.a,{defaultValue:u.values.firstName,error:!(!u.touched.firstName||!u.errors.firstName),helperText:u.errors.firstName,label:"Firstname",name:"firstName",onChange:u.handleChange,size:"small",variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(R.a,{defaultValue:n.lastName,error:!(!u.touched.lastName||!u.errors.lastName),helperText:u.errors.lastName,label:"Lastname",name:"lastName",onChange:u.handleChange,size:"small",variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(R.a,{defaultValue:n.age,error:!(!u.touched.age||!u.errors.age),helperText:u.errors.age,label:"Umur",name:"age",onChange:u.handleChange,size:"small",type:"number",variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(R.a,{defaultValue:n.photo,error:!(!u.touched.photo||!u.errors.photo),helperText:u.errors.photo,label:"Photo",name:"photo",onChange:u.handleChange,size:"small",variant:"outlined"})))),o.a.createElement(q.a,null,o.a.createElement(A.a,{color:"secondary",onClick:t},"Cancel"),o.a.createElement(A.a,{color:"primary",onClick:u.handleSubmit},m))))};I.defaultProps={handleCloseModal:function(){},modalTyoe:"",openModal:!1,userData:{}};var J=I,U=t(179),W=t(168),B=t(170),G=Object(l.a)((function(e){return{alert:{position:"fixed",zIndex:1100,top:e.spacing(2),right:e.spacing(2)}}})),H=function(e){var a=e.message,t=e.inputProps,l=Object(r.useState)(!0),c=Object(n.a)(l,2),i=c[0],s=c[1],m=G(),d=Object(w.b)(),p=function(){s(!1),d(C(""))};return setTimeout((function(){p()}),3e3),o.a.createElement(W.a,{in:i},o.a.createElement(U.a,Object.assign({className:m.alert},t,{action:o.a.createElement(u.a,{"aria-label":"close",color:"inherit",onClick:function(){p()},size:"small"},o.a.createElement(B.a,{fontSize:"inherit"}))}),a))};H.defaultProps={inputProps:{},message:"null"};var K=H,Q=Object(l.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),X=function(){var e=Q(),a=Object(w.b)(),t={firstName:"",lastName:"",age:0,photo:""},l=Object(r.useState)(""),p=Object(n.a)(l,2),g=p[0],b=p[1],v=Object(r.useState)(t),N=Object(n.a)(v,2),k=N[0],j=N[1];Object(r.useEffect)((function(){a(x())}),[]);var O,S=function(e){a(function(e){return function(){var a=Object(h.a)(f.a.mark((function a(t){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e);case 3:a.sent&&t(x()),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t(C(a.t0.message));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}({method:"delete",id:e}))},z=Object(w.c)((function(e){return e.home}));return O=z.isLoading?o.a.createElement(s.a,null,"Memuat..."):z.data.map((function(e){return o.a.createElement(r.Fragment,{key:e.id},o.a.createElement(c.a,{item:!0,xs:2},o.a.createElement(i.a,{alt:"Remy Sharp",src:e.photo})),o.a.createElement(c.a,{item:!0,xs:7},o.a.createElement(s.a,null,"Name : ",e.firstName," ",e.lastName),o.a.createElement(s.a,null,"Age : ",e.age)),o.a.createElement(c.a,{item:!0,xs:3},o.a.createElement(u.a,{onClick:function(){return S(e.id)}},o.a.createElement(P.a,null)),o.a.createElement(u.a,{onClick:function(){return function(e){j(e),b("edit"),a(y(!0))}(e)}},o.a.createElement(M.a,null))))})),o.a.createElement("div",null,z.isError?o.a.createElement(K,{inputProps:{severity:"error"},message:z.isError}):null,o.a.createElement(m.a,{maxWidth:"sm"},o.a.createElement(c.a,{alignItems:"center",container:!0,direction:"row",justify:"center",spacing:2},O),z.isLoading?null:o.a.createElement(d.a,{"aria-label":"add",className:e.fab,color:"primary",onClick:function(){j(t),b("add"),a(y(!0))},size:"medium"},o.a.createElement(T.a,null))),o.a.createElement(J,{handleCloseModal:function(){a(y(!1))},modalTyoe:g,openModal:z.openModal,userData:k}))}}}]);
//# sourceMappingURL=4.4efa8454.chunk.js.map