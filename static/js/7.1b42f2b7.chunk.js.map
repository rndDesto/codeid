{"version":3,"sources":["pages/Home/actions.js","layout/FormUser/FormUser.js","components/DataAlert/DataAlert.js","pages/Home/Home.js","util/fetch.js","components/ModalDialog/ModalDialog.js"],"names":["fetchModalForm","open","dispatch","modalAction","fetchContact","a","payload","loadingAction","contactApi","response","dataFetchedAction","data","type","DATA_FETCHED","isLoading","LOADING","MODAL","errorAction","err","ISERROR","useStyles","makeStyles","theme","root","margin","spacing","FormUser","openModal","handleCloseModal","userData","modalTyoe","useDispatch","classes","initialValues","firstName","lastName","age","photo","formik","useFormik","validate","values","errors","length","onSubmit","value","console","log","fetchAddUser","id","fetchEditUser","formTitle","ModalDialog","inputProps","onClose","DialogContent","Typography","className","handleSubmit","TextField","defaultValue","error","helperText","label","name","onChange","handleChange","size","variant","DialogActions","Button","color","onClick","defaultProps","alert","position","zIndex","top","right","DataAlert","message","useState","setOpen","closeAlert","setTimeout","Collapse","in","Alert","action","IconButton","aria-label","Close","fontSize","fab","bottom","Home","userInit","setModalType","setUserData","useEffect","dataUser","handleDelete","fetchDeleteUser","contactState","useSelector","s","home","map","user","key","Grid","item","xs","Avatar","alt","src","Delete","handleEdit","Edit","isError","severity","Container","maxWidth","alignItems","container","direction","justify","Fab","Add","OMDBAPI","CONTACT_API","fetch","url","method","param1","param2","Promise","resolve","reject","axios","then","res","catch","defaultError","code","status","getMovieDetail","body","children","Dialog"],"mappings":"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","file":"static/js/7.1b42f2b7.chunk.js","sourcesContent":["import { contactApi } from '../../util/fetch';\r\nimport { DATA_FETCHED, LOADING, MODAL, ISERROR } from './constants';\r\n\r\n\r\nexport const fetchModalForm = (open) => {\r\n  return dispatch => {\r\n    dispatch(modalAction(open));\r\n  };\r\n};\r\n\r\nexport const fetchContact = () => {\r\n  return async dispatch => {\r\n    let response;\r\n    let payload={\r\n      'method': 'get',\r\n    };\r\n    dispatch(loadingAction(true));\r\n    try {\r\n      response = await contactApi(payload);\r\n      dispatch(dataFetchedAction(response.data));\r\n    } catch (err) {\r\n      dispatch(loadingAction(false));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const fetchAddUser = (payload) => {\r\n  return async dispatch => {\r\n    let response;\r\n    try {\r\n      response = await contactApi(payload);\r\n      if(response){\r\n        dispatch(fetchContact());\r\n        dispatch(fetchModalForm(false));\r\n      }\r\n    } catch (err) {\r\n      console.log('add user error = ', err);\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const fetchEditUser = (payload) => {\r\n  return async dispatch => {\r\n    let response;\r\n    try {\r\n      response = await contactApi(payload);\r\n      if(response){\r\n        dispatch(fetchContact());\r\n        dispatch(fetchModalForm(false));\r\n        console.log('edit sukses = ', response);\r\n      }\r\n    } catch (err) {\r\n      console.log('add user error = ', err);\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const fetchDeleteUser = (payload) => {\r\n  return async dispatch => {\r\n    let response;\r\n    try {\r\n      response = await contactApi(payload);\r\n      if(response){\r\n        dispatch(fetchContact());\r\n        console.log('fetchDeleteUser sukses = ', response);\r\n      }\r\n    } catch (err) {\r\n      dispatch(errorAction(err.message));\r\n    }\r\n  };\r\n};\r\n\r\nconst dataFetchedAction = (data) => {\r\n  return { type: DATA_FETCHED, payload:data };\r\n};\r\n\r\nconst loadingAction = (isLoading) => {\r\n  return { type: LOADING, payload:isLoading };\r\n};\r\n\r\nconst modalAction = (open) => {\r\n  return { type: MODAL, payload:open };\r\n};\r\n\r\nexport const errorAction = (err) => {\r\n  return { type: ISERROR, payload:err };\r\n};\r\n","import React from 'react';\r\nimport ModalDialog from '../../components/ModalDialog';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, DialogActions, DialogContent, makeStyles, TextField, Typography } from '@material-ui/core';\r\nimport { useFormik } from 'formik';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchAddUser, fetchEditUser } from '../../pages/Home/actions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\n\r\nconst FormUser = ({ openModal, handleCloseModal,userData, modalTyoe }) => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n    if (!values.firstName) {\r\n      errors.firstName = 'Required';\r\n    } else if (values.firstName.length < 3) {\r\n      errors.firstName = 'Minimal 3 karakter';\r\n    }\r\n    if (!values.lastName) {\r\n      errors.lastName = 'Required';\r\n    } else if (values.lastName.length < 35) {\r\n      errors.lastName = 'Minimal 3 karakter';\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const initialValues = {\r\n    firstName: userData.firstName,\r\n    lastName: userData.lastName,\r\n    age: userData.age,\r\n    photo: userData.photo,\r\n    type:modalTyoe\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues,\r\n    validate,\r\n    onSubmit : value => {\r\n      console.log('onSubmit formik = ', value);\r\n      let payload;\r\n      if(value.type === 'add'){\r\n        payload={\r\n          'method': 'post',\r\n          'body': {\r\n            'firstName': value.firstName,\r\n            'lastName': value.lastName,\r\n            'age': value.age,\r\n            'photo': value.photo,\r\n          }\r\n        };\r\n        dispatch(fetchAddUser(payload));\r\n      }\r\n      else{\r\n        payload={\r\n          'method': 'put',\r\n          'id':userData.id,\r\n          'body': {\r\n            'firstName': value.firstName,\r\n            'lastName': value.lastName,\r\n            'age': value.age,\r\n            'photo': value.photo,\r\n          }\r\n        };\r\n        dispatch(fetchEditUser(payload));\r\n      }\r\n\r\n    }\r\n  });\r\n\r\n  let formTitle = modalTyoe === 'add' ? 'Add' : 'Edit';\r\n\r\n  return (\r\n    <div>\r\n      <ModalDialog inputProps={{ open:openModal, onClose:handleCloseModal }}>\r\n        <DialogContent>\r\n          <Typography>{formTitle} User</Typography>\r\n          <form className={classes.root} onSubmit={formik.handleSubmit}>\r\n            <div>\r\n              <TextField\r\n                defaultValue={userData.firstName}\r\n                error = {formik.errors.firstName ? true : false}\r\n                helperText={formik.errors.firstName}\r\n                label=\"Firstname\"\r\n                name=\"firstName\"\r\n                onChange={formik.handleChange}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                defaultValue={userData.lastName}\r\n                error = {formik.errors.lastName ? true : false}\r\n                helperText={formik.errors.lastName}\r\n                label=\"Lastname\"\r\n                name=\"lastName\"\r\n                onChange={formik.handleChange}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                defaultValue={userData.age}\r\n                error = {formik.errors.age ? true : false}\r\n                helperText={formik.errors.age}\r\n                label=\"Umur\"\r\n                name=\"age\"\r\n                onChange={formik.handleChange}\r\n                size=\"small\"\r\n                type=\"number\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                defaultValue={userData.photo}\r\n                error = {formik.errors.photo ? true : false}\r\n                helperText={formik.errors.photo}\r\n                label=\"Photo\"\r\n                name=\"photo\"\r\n                onChange={formik.handleChange}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button color=\"secondary\" onClick={handleCloseModal}>\r\n            Cancel\r\n          </Button>\r\n          <Button color=\"primary\" onClick={formik.handleSubmit}>\r\n            {formTitle}\r\n          </Button>\r\n        </DialogActions>\r\n      </ModalDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nFormUser.defaultProps = {\r\n  handleCloseModal: ()=>{},\r\n  modalTyoe:'',\r\n  openModal: false,\r\n  userData:{},\r\n\r\n\r\n};\r\n\r\nFormUser.propTypes = {\r\n  handleCloseModal: PropTypes.func,\r\n  modalTyoe:PropTypes.string,\r\n  openModal: PropTypes.bool,\r\n  userData:PropTypes.object,\r\n};\r\n\r\n\r\nexport default FormUser;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { Collapse, IconButton, makeStyles } from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\nimport { useDispatch } from 'react-redux';\r\nimport { errorAction } from '../../pages/Home/actions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  alert: {\r\n    position: 'fixed',\r\n    zIndex:1100,\r\n    top: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst DataAlert = ({ message, inputProps }) => {\r\n  const [open, setOpen] = useState(true);\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const closeAlert = () => {\r\n    setOpen(false);\r\n    dispatch(errorAction(''));\r\n  };\r\n\r\n  setTimeout(() => {\r\n    closeAlert();\r\n  }, 3000);\r\n\r\n  return (\r\n    <Collapse in={open}>\r\n      <Alert className={classes.alert} {...inputProps} action={\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={() => {\r\n            closeAlert();\r\n          }}\r\n          size=\"small\"\r\n        >\r\n          <Close fontSize=\"inherit\" />\r\n        </IconButton>\r\n      }>{message}</Alert>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\n\r\nDataAlert.defaultProps = {\r\n  inputProps: {},\r\n  message: 'null',\r\n};\r\n\r\nDataAlert.propTypes = {\r\n  inputProps: PropTypes.object,\r\n  message: PropTypes.string,\r\n};\r\nexport default DataAlert;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { Avatar, Container, Fab, Grid, IconButton, makeStyles, Typography } from '@material-ui/core';\r\nimport { fetchContact, fetchDeleteUser, fetchModalForm } from './actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Delete, Add, Edit } from '@material-ui/icons';\r\nimport FormUser from '../../layout/FormUser';\r\nimport DataAlert from '../../components/DataAlert/DataAlert';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  fab: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst Home = () => {\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  let userInit = {\r\n    'firstName': '',\r\n    'lastName': '',\r\n    'age': 0,\r\n    'photo': ''\r\n  };\r\n\r\n  const [modalTyoe, setModalType] = useState('');\r\n  const [userData, setUserData] = useState(userInit);\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchContact());\r\n  }, []);\r\n\r\n\r\n  const handleAddUser = () =>{\r\n    dispatch(fetchModalForm(true));\r\n    setUserData(userInit);\r\n    setModalType('add');\r\n  };\r\n\r\n  const handleEdit = (user) =>{\r\n    dispatch(fetchModalForm(true));\r\n    setUserData(user);\r\n    setModalType('edit');\r\n  };\r\n\r\n  const handleDelete = (id) =>{\r\n    const payload = {\r\n      'method': 'delete',\r\n      'id': id,\r\n    };\r\n    dispatch(fetchDeleteUser(payload));\r\n  };\r\n\r\n  const handleCloseModal = () =>{\r\n    dispatch(fetchModalForm(false));\r\n  };\r\n\r\n  const contactState = useSelector(s => s.home);\r\n\r\n  let dataUser;\r\n  if(!contactState.isLoading){\r\n    dataUser = contactState.data.map(user =>{\r\n      return(\r\n        <Fragment key={user.id}>\r\n          <Grid item xs={2}>\r\n            <Avatar alt=\"Remy Sharp\" src={user.photo} />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography>Name : {user.firstName} {user.lastName}</Typography>\r\n            <Typography>Age : {user.age}</Typography>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <IconButton onClick={()=>handleDelete(user.id)}>\r\n              <Delete />\r\n            </IconButton>\r\n            <IconButton onClick={()=>handleEdit(user)}>\r\n              <Edit />\r\n            </IconButton>\r\n          </Grid>\r\n        </Fragment>\r\n      );\r\n    });\r\n  }\r\n  else{\r\n    dataUser = <Typography>Memuat...</Typography>;\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      {contactState.isError ? <DataAlert inputProps={{ severity:'error' }} message={contactState.isError}/> : null}\r\n\r\n      <Container maxWidth=\"sm\">\r\n        <Grid alignItems=\"center\"\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          spacing={2}\r\n        >\r\n          {dataUser}\r\n        </Grid>\r\n\r\n        {\r\n          !contactState.isLoading ? <Fab aria-label=\"add\" className={classes.fab} color=\"primary\" onClick={handleAddUser} size=\"medium\">\r\n            <Add />\r\n          </Fab> : null\r\n        }\r\n\r\n      </Container>\r\n\r\n      <FormUser\r\n        handleCloseModal={handleCloseModal}\r\n        modalTyoe={modalTyoe}\r\n        openModal={contactState.openModal}\r\n        userData={userData}/>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from 'axios';\r\n\r\nconst OMDBAPI = 'http://www.omdbapi.com';\r\n\r\nconst CONTACT_API = 'https://simple-contact-crud.herokuapp.com';\r\n\r\n\r\nconst fetch = (url, method, param1, param2) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios[method](url, param1, param2)\r\n      .then(res => resolve(res.data))\r\n      .catch(err => {\r\n        const defaultError = {\r\n          code: 500,\r\n          status: 'error',\r\n          message: 'Failed to fetch data. Please contact developer.'\r\n        };\r\n        if (!err.response) reject(defaultError);\r\n        else if (!err.response.data) reject(defaultError);\r\n        else reject(err.response.data);\r\n      });\r\n  });\r\n};\r\n\r\nexport const getMovies = async (title) => (\r\n  await fetch(`${OMDBAPI}/?s=${title}&plot=full&apikey=761befef`, 'get')\r\n);\r\n\r\nexport const getMovieDetail = async (id) => (\r\n  await fetch(`${OMDBAPI}/?i=${id}&apikey=761befef`, 'get')\r\n);\r\n\r\n\r\nexport const contactApi = async (payload) => {\r\n  let id = payload.id ? `/${payload.id}`: '';\r\n  let body = payload.body ? payload.body : '';\r\n  return await fetch(`${CONTACT_API}/contact${id}`, payload.method, body );\r\n};\r\n\r\n\r\nexport const contactUrl = async (payload) => (\r\n  await fetch(`${CONTACT_API}/contact`, payload.method, payload.body)\r\n);\r\n\r\nexport const contactPath = async (payload) => (\r\n  await fetch(`${CONTACT_API}/contact/${payload.id}`, payload.method)\r\n);\r\n\r\nexport const contactEdit = async (payload) => (\r\n  await fetch(`${CONTACT_API}/contact/${payload.id}`, payload.method, payload.body)\r\n);\r\n","import React from 'react';\r\nimport { Dialog } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ModalDialog = ({ children, inputProps }) => {\r\n  return (\r\n    <Dialog {...inputProps} >\r\n      {children}\r\n    </Dialog>\r\n  );\r\n};\r\n\r\n\r\nModalDialog.defaultProps = {\r\n  children: null,\r\n  inputProps: {},\r\n};\r\n\r\nModalDialog.propTypes = {\r\n  children: PropTypes.node,\r\n  inputProps: PropTypes.object,\r\n};\r\n\r\nexport default ModalDialog;\r\n"],"sourceRoot":""}